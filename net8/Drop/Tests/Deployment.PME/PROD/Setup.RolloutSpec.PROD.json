{
  "$schema": "http://schema.express.azure.com/schemas/2015-01-01-alpha/RolloutSpec.json",
  "ContentVersion": "4.6.19127.1",
  "RolloutMetadata": {
    "ServiceModelPath": "PROD\\ServiceModel.PROD.json",
    "Name": "PX Deployment PROD 4.6.19127.1 (Global)",
    "RolloutType": "Major",
    "BuildSource": {
      "BuildSourceType": "SmbShare",
      "Parameters": {
        "ServiceGroupRoot": "ServiceGroupRoot",
        "VersionFile": "BuildVer.txt"
      }
    },
    "Notification": {
      "email": {
        "to": "pxdevs@microsoft.com",
        "options": {
          "when": [
            "onError",
            "onComplete"
          ]
        }
      }
    }
  },
  "OrchestratedSteps": [
    {
      "Name": "RolloutStamp-PX-PXService-ManagedIdentity-Global",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ManagedIdentity.Global",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-KeyVault-Global",
      "TargetType": "ServiceResource",
      "TargetName": "KeyVault.Global",
      "Actions": [ "Deploy" ],
      "DependsOn": [
        "RolloutStamp-PX-PXService-ManagedIdentity-Global"
      ]
    },
    {
      "Name": "RolloutStamp-PX-TestKeyVault-Global",
      "TargetType": "ServiceResource",
      "TargetName": "TestKeyVault.Global",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ApplicationInsights-Global",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ApplicationInsights.Global",
      "Actions": [
        "Deploy"
      ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-WestUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.WestUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-WestUS2",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.WestUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-EastUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.EastUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-CentralUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.CentralUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-EastUS2",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.EastUS2",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-NorthCentralUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.NorthCentralUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-SouthCentralUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.SouthCentralUS",
      "Actions": [ "Deploy" ]
    },
    {
      "Name": "RolloutStamp-PX-PXService-ServerFarm-WestCentralUS",
      "TargetType": "ServiceResource",
      "TargetName": "PXService.ServerFarm.WestCentralUS",
      "Actions": [ "Deploy" ]
    }
  ]
}
