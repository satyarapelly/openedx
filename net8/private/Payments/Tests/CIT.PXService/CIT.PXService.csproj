<Project Sdk="Microsoft.NET.Sdk">
	<Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), build.root))\msbuild\Environment.props" />
	<Import Project="..\..\Tests\Test.targets" />
  <PropertyGroup>
	<ProjectGuid>{40927854-FBC8-4891-B9E2-2106E0CE0008}</ProjectGuid>
	<OutputType>Library</OutputType>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
    <IsTestProject>true</IsTestProject>
    <OutDir>$(DropRoot)\UnitTests\$(AssemblyName)\</OutDir>
	<GenerateAssemblyInfo>false</GenerateAssemblyInfo>
  </PropertyGroup>
  <ItemGroup>
	<FrameworkReference Include="Microsoft.AspNetCore.App" />
	<PackageReference Include="Microsoft.NET.Test.Sdk" />
    <PackageReference Include="MSTest.TestAdapter" />
    <PackageReference Include="MSTest.TestFramework" />
    <PackageReference Include="Newtonsoft.Json" />
	  <PackageReference Include="Moq" />
	  <PackageReference Include="Microsoft.Extensions.ObjectPool" />
  </ItemGroup>
    <ItemGroup>
      <Reference Include="Microsoft.Xbox.Experimentation.Contracts">
        <HintPath>..\..\..\nugets\net8.0\Microsoft.Xbox.Experimentation.Contracts.dll</HintPath>
      </Reference>
      <Reference Include="CertificateVerificationCore">
        <HintPath>..\..\..\nugets\net8.0\microsoft.commerce.payments.management.certificateverificationcore\1.3.34\lib\netstandard2.0\CertificateVerificationCore.dll</HintPath>
      </Reference>
    </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\PXService\PXService.csproj" />
    <ProjectReference Include="..\SelfHostedPXServiceCore\SelfHostedPXServiceCore.csproj" />
    <ProjectReference Include="..\Test.Common\Test.Common.csproj" />
    <ProjectReference Include="..\..\Common\Common.csproj" />
    <ProjectReference Include="..\..\Pidl\PXCommon\PXCommon.csproj" />
    <ProjectReference Include="..\..\External\QRCoder\QRCoder.csproj" />
    <ProjectReference Include="..\..\Pidl\LocalizationRepository\LocalizationRepository.csproj" />
    <ProjectReference Include="..\..\Pidl\PartnerSettingsModel\PartnerSettingsModel.csproj" />
    <ProjectReference Include="..\..\Pidl\PidlFactory\PidlFactory.csproj" />
    <ProjectReference Include="..\..\Pidl\PidlModel\PidlModel.csproj" />
    <ProjectReference Include="..\..\Pidl\PimsModel\PimsModel.csproj" />
    <ProjectReference Include="..\Emulators\PXDependencyEmulators\PXDependencyEmulators.csproj" />
    </ItemGroup>
    <ItemGroup>
    <Content Include="..\..\PXService\App_Data\ClientActionConfig.csv">
      <Link>TestData\ClientActionConfig.csv</Link>
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PIServiceErrorConfig.csv">
      <Link>TestData\PIServiceErrorConfig.csv</Link>
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <None Include="TestData\paymentexpprd_flight.blob">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Include="TestData\challengepidl.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    </ItemGroup>
    <ItemGroup>
    <Content Include="..\..\PXService\App_Data\PSD2Config\certs-V17\DsCertificates.json">
      <Link>App_Data\PSD2Config\certs-V17\DsCertificates.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\certs-V19\DsCertificates.json">
      <Link>App_Data\PSD2Config\certs-V19\DsCertificates.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\certs-V20\DsCertificates.json">
      <Link>App_Data\PSD2Config\certs-V20\DsCertificates.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\certs-V21\DsCertificates.json">
      <Link>App_Data\PSD2Config\certs-V21\DsCertificates.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\default\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\default\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-default\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-default\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-default\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-default\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk3.1-default\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk3.1-default\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V14\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V14\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V15\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V15\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V16\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V16\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V17\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V17\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V18\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V18\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V19\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V19\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V20\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V20\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2-V21\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2-V21\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-V16\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-V16\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-V17\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-V17\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-V19\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-V19\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-V20\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-V20\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk2.2-V21\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk2.2-V21\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk3-V20\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk3-V20\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk3-V21\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk3-V21\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk3.1-V20\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk3.1-V20\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\sdk3.1-V21\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\sdk3.1-V21\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V10\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V10\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V11\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V11\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V12\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V12\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V13\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V13\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V14\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V14\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V15\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V15\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V16\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V16\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V17\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V17\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V18\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V18\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V19\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V19\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V20\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V20\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V21\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V21\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V1\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V1\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V2\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V2\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V3\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V3\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V6\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V6\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V7\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V7\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V8\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V8\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
    <Content Include="..\..\PXService\App_Data\PSD2Config\V9\PaymentClientSettings.json">
      <Link>App_Data\PSD2Config\V9\PaymentClientSettings.json</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
</Project>